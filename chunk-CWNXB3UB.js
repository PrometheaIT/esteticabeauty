import{a as M}from"./chunk-NEBEP2IE.js";import{a as O}from"./chunk-V3BUYYL4.js";import{i as b,j as S,m as C}from"./chunk-MPIGBUTJ.js";import{Aa as o,Qa as u,Va as g,_ as l,bb as c,cb as r,da as v,db as i,ea as f,f as p,hb as _,kb as h,mb as m,tb as a,ub as y,vb as s,xa as x}from"./chunk-BIDTVNE2.js";function w(n,t){if(n&1){let e=_();r(0,"div",14)(1,"div",15),a(2),i(),r(3,"div",16)(4,"img",17),h("error",function(){let z=v(e).$implicit;return f(z.image_url="assets/images/service-placeholder.jpg")}),i()(),r(5,"div",18)(6,"h3",19),a(7),i(),r(8,"p",20),a(9),i(),r(10,"div",21)(11,"span",22),a(12),i(),r(13,"span",23),a(14),i()()()()}if(n&2){let e=t.$implicit;o(2),s(" ",e.category," "),o(2),c("src",e.image_url||"assets/images/service-placeholder.jpg",x)("alt",e.title),o(3),y(e.title),o(2),s(" ",e.description||"Descrizione non disponibile"," "),o(3),s(" ",e.duration?e.duration+" min":"Su appuntamento"," "),o(2),s("",e.price," \u20AC")}}function I(n,t){if(n&1&&(r(0,"div",10)(1,"h2",11),a(2),i(),r(3,"div",12),g(4,w,15,7,"div",13),i()()),n&2){let e=t.$implicit,d=m(2);o(2),s(" ",e," "),o(2),c("ngForOf",d.getServicesByCategory(e))}}function E(n,t){n&1&&(r(0,"div",24)(1,"span",3),a(2,"spa"),i(),r(3,"h3"),a(4,"Nessun servizio disponibile"),i(),r(5,"p",6),a(6,"I nostri trattamenti saranno presto disponibili"),i()())}function k(n,t){if(n&1&&(r(0,"div"),g(1,I,5,2,"div",8)(2,E,7,0,"div",9),i()),n&2){let e=m();o(),c("ngForOf",e.categories),o(),c("ngIf",e.categories.length===0)}}var P=class n{supabaseService=l(O);loadingService=l(M);services=[];categories=[];loading=!0;ngOnInit(){return p(this,null,function*(){try{this.services=yield this.loadingService.trackPromise(this.supabaseService.getServices()),this.categories=Array.from(new Set(this.services.map(t=>t.category).filter(t=>t&&t.trim()!=="")))}catch(t){console.error("Errore nel caricamento servizi:",t)}finally{this.loading=!1}})}getServicesByCategory(t){return this.services.filter(e=>e.category===t)}handleImageError(t){t.target.src="assets/images/service-placeholder.jpg"}getServiceImage(t){return t.image_url||"assets/images/service-placeholder.jpg"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-servizi"]],decls:11,vars:1,consts:[[1,"page-container","services-page-container"],[1,"section-header"],[1,"header-icon"],[1,"material-icons"],[1,"section-titles"],[1,"section-title"],[1,"text-muted"],[4,"ngIf"],["class","category-section",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"category-section"],[1,"category-header"],[1,"services-grid"],["class","service-card",4,"ngFor","ngForOf"],[1,"service-card"],[1,"category-badge"],[1,"card-image"],["loading","lazy",3,"error","src","alt"],[1,"card-content"],[1,"card-title"],[1,"card-description"],[1,"card-footer"],[1,"card-duration"],[1,"card-price"],[1,"empty-state"]],template:function(e,d){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a(4,"auto_fix_normal"),i()(),r(5,"div",4)(6,"h1",5),a(7,"I Nostri Trattamenti Esclusivi"),i(),r(8,"p",6),a(9,"Scopri la nostra gamma completa di trattamenti estetici personalizzati"),i()()(),g(10,k,3,2,"div",7),i()),e&2&&(o(10),c("ngIf",!d.loading))},dependencies:[C,b,S],styles:['.services-page-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:var(--gutter-lg)}.category-section[_ngcontent-%COMP%]{margin-bottom:var(--gutter-xl)}.category-header[_ngcontent-%COMP%]{font-size:var(--fs-md);color:var(--primary);margin-bottom:var(--gutter-lg);padding:var(--gutter-md) var(--gutter-lg);background:var(--smoke-color-2);border-radius:16px;border-left:4px solid var(--primary);display:flex;align-items:center;gap:var(--gutter-sm)}.category-header[_ngcontent-%COMP%]:before{content:"spa";font-family:Material Icons;font-size:var(--fs-md)}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--gutter-lg);margin-bottom:var(--gutter-xl)}.service-card[_ngcontent-%COMP%]{background:var(--background);border:1px solid var(--smoke-color-1);border-radius:20px;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 20px var(--shadow);display:flex;flex-direction:column;height:100%;position:relative}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 40px var(--shadow2);border-color:var(--primary)}.card-image[_ngcontent-%COMP%]{width:100%;height:220px;overflow:hidden;position:relative}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.service-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.category-badge[_ngcontent-%COMP%]{position:absolute;top:var(--gutter-md);left:var(--gutter-md);background:var(--gradiente);color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;z-index:2}.card-content[_ngcontent-%COMP%]{padding:var(--gutter-lg);flex-grow:1;display:flex;flex-direction:column;gap:var(--gutter-sm)}.card-title[_ngcontent-%COMP%]{font-size:var(--fs-md);color:var(--text-color);margin:0;line-height:1.3;font-weight:700}.card-description[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--text-color) 70%,transparent);line-height:1.5;flex-grow:1;margin:0}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:var(--gutter-md);border-top:1px solid var(--smoke-color-1)}.card-duration[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:color-mix(in srgb,var(--text-color) 60%,transparent);font-size:.875rem}.card-duration[_ngcontent-%COMP%]:before{content:"schedule";font-family:Material Icons;font-size:1rem}.card-price[_ngcontent-%COMP%]{font-size:var(--fs-md);font-weight:800;color:var(--primary);background:var(--smoke-color-2);padding:.5rem 1rem;border-radius:12px}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:var(--gutter-xl);color:color-mix(in srgb,var(--text-color) 60%,transparent)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--gutter-xl);background:var(--smoke-color-2);border-radius:20px;margin:var(--gutter-lg) 0}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:var(--gutter-md);opacity:.5}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--gutter-md)}.services-page-container[_ngcontent-%COMP%]{padding:var(--gutter-md)}.card-image[_ngcontent-%COMP%]{height:180px}}@media (max-width: 480px){.card-footer[_ngcontent-%COMP%]{flex-direction:column;gap:var(--gutter-sm);align-items:flex-start}.card-price[_ngcontent-%COMP%]{align-self:flex-end}}']})};export{P as Servizi};
