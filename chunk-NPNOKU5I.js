import{a as k}from"./chunk-NEBEP2IE.js";import{i as M,j as P,m as I}from"./chunk-MPIGBUTJ.js";import{Aa as c,Qa as C,Va as x,_ as w,bb as _,cb as i,da as m,db as a,ea as p,f as b,hb as h,kb as d,mb as s,rb as v,tb as l,vb as y,xa as f}from"./chunk-BIDTVNE2.js";function S(o,r){o&1&&(i(0,"div",28)(1,"span",4),l(2,"image"),a()())}function T(o,r){if(o&1){let e=h();i(0,"div",25),x(1,S,3,0,"div",26),i(2,"img",27),d("error",function(t){let g=m(e).$implicit,u=s(2);return p(u.handleImageError(t,g,!0))})("load",function(t){let g=m(e).$implicit,u=s(2);return p(u.handleImageLoad(t,g))}),a()()}if(o&2){let e=r.$implicit,n=r.index,t=s(2);v("active",n===t.currentSlideIndex),c(),_("ngIf",!t.isImageLoaded(e)),c(),v("hidden",!t.isImageLoaded(e)),_("src",e.src,f)("alt",e.alt)}}function j(o,r){if(o&1){let e=h();i(0,"span",29),d("click",function(){let t=m(e).index,g=s(2);return p(g.goToSlide(t))}),a()}if(o&2){let e=r.$implicit,n=r.index,t=s(2);v("active",n===t.currentSlideIndex)("error",e.errorCount&&e.errorCount>t.maxRetries)}}function E(o,r){o&1&&(i(0,"div",28)(1,"span",4),l(2,"image"),a()())}function G(o,r){o&1&&(i(0,"div",33)(1,"span",4),l(2,"warning"),a()())}function V(o,r){if(o&1){let e=h();i(0,"div",30),d("click",function(){let t=m(e).$implicit,g=s(2);return p(g.openLightbox(t.src,t.alt))}),x(1,E,3,0,"div",26),i(2,"div",31)(3,"img",27),d("error",function(t){let g=m(e).$implicit,u=s(2);return p(u.handleImageError(t,g))})("load",function(t){let g=m(e).$implicit,u=s(2);return p(u.handleImageLoad(t,g))}),a()(),x(4,G,3,0,"div",32),a()}if(o&2){let e=r.$implicit,n=s(2);c(),_("ngIf",!n.isImageLoaded(e)),c(2),v("hidden",!n.isImageLoaded(e)),_("src",e.src,f)("alt",e.alt),c(),_("ngIf",e.errorCount&&e.errorCount>n.maxRetries)}}function A(o,r){if(o&1){let e=h();i(0,"div")(1,"div",7)(2,"div",8)(3,"span",4),l(4,"photo_library"),a()(),i(5,"div",9)(6,"h1",10),l(7,"La Nostra Gallery"),a(),i(8,"p",11),l(9,"Scopri gli ambienti raffinati e i trattamenti del nostro centro estetico"),a()()(),i(10,"div",12)(11,"div",13)(12,"button",14),d("click",function(){m(e);let t=s();return p(t.prevSlide())}),i(13,"span",4),l(14,"navigate_before"),a(),l(15," Precedente "),a(),i(16,"button",14),d("click",function(){m(e);let t=s();return p(t.toggleSlideshow())}),i(17,"span",4),l(18),a(),l(19),a(),i(20,"button",14),d("click",function(){m(e);let t=s();return p(t.nextSlide())}),i(21,"span",4),l(22,"navigate_next"),a(),l(23," Successiva "),a()(),i(24,"div",15),x(25,T,3,7,"div",16),i(26,"div",17)(27,"button",18),d("click",function(){m(e);let t=s();return p(t.prevSlide())}),i(28,"span",4),l(29,"chevron_left"),a()(),i(30,"button",18),d("click",function(){m(e);let t=s();return p(t.nextSlide())}),i(31,"span",4),l(32,"chevron_right"),a()()(),i(33,"div",19),x(34,j,1,4,"span",20),a()()(),i(35,"section",21)(36,"h2",22),l(37,"Il Salone"),a(),i(38,"div",23),x(39,V,5,6,"div",24),a()()()}if(o&2){let e=s();c(18),y(" ",e.isPlaying?"pause":"play_arrow"," "),c(),y(" ",e.isPlaying?"Pausa":"Riproduci"," "),c(6),_("ngForOf",e.slides),c(9),_("ngForOf",e.slides),c(5),_("ngForOf",e.galleryImages)}}var O=class o{loadingService=w(k);loading=!0;currentSlideIndex=0;slideshowInterval;isPlaying=!0;lightboxActive=!1;lightboxImage="";lightboxAlt="";maxRetries=2;slides=[{src:"assets/gallery/salone1.jpg",alt:"Salone Estetica - Area 1",errorCount:0,loaded:!1},{src:"assets/gallery/salone2.jpg",alt:"Salone Estetica - Area 2",errorCount:0,loaded:!1},{src:"assets/gallery/salone3.jpg",alt:"Cabina Trattamenti",errorCount:0,loaded:!1},{src:"assets/gallery/salone4.jpg",alt:"Postazione Make-up",errorCount:0,loaded:!1}];galleryImages=[{src:"assets/gallery/salone1.jpg",alt:"Salone Estetica - Area 1",category:"Ambiente",errorCount:0,loaded:!1},{src:"assets/gallery/salone2.jpg",alt:"Salone Estetica - Area 2",category:"Ambiente",errorCount:0,loaded:!1},{src:"assets/gallery/salone3.jpg",alt:"Cabina Trattamenti",category:"Trattamenti",errorCount:0,loaded:!1},{src:"assets/gallery/salone4.jpg",alt:"Postazione Make-up",category:"Make-up",errorCount:0,loaded:!1},{src:"assets/gallery/salone5.jpg",alt:"Zona Relax",category:"Ambiente",errorCount:0,loaded:!1},{src:"assets/gallery/salone6.jpg",alt:"Trattamento Unghie",category:"Trattamenti",errorCount:0,loaded:!1},{src:"assets/gallery/salone7.jpg",alt:"Prodotti Professionali",category:"Prodotti",errorCount:0,loaded:!1},{src:"assets/gallery/salone8.jpg",alt:"Area Reception",category:"Ambiente",errorCount:0,loaded:!1}];fallbackImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjVGMkU2Ii8+CjxwYXRoIGQ9Ik0xMjAgMTIwSDE0MFYxNDBIMTIwVjEyMFpNMTYwIDEyMEgxODBWMTQwSDE2MFYxMjBaTTIwMCAxMjBIMjIwVjE0MEgyMDBWMTIwWk0xMjAgMTYwSDE0MFYxODBIMTIwVjE2MFpNMTYwIDE2MEgxODBWMTgwSDE2MFYxNjBaTTIwMCAxNjBIMjIwVjE4MEgyMDBWMTYwWiIgZmlsbD0iIzA1MTgwMCIgZmlsbC1vcGFjaXR5PSIwLjIiLz4KPHRleHQgeD0iMjAwIiB5PSIyMDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzA1MTgwMCIgZmlsbC1vcGFjaXR5PSIwLjQiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkltbWFnaW5lIG5vbiBkaXNwb25pYmlsZTwvdGV4dD4KPC9zdmc+";ngOnInit(){return b(this,null,function*(){try{yield this.loadingService.trackPromise(new Promise(r=>setTimeout(r,800))),this.startSlideshow()}catch(r){console.error("Errore nel caricamento galleria:",r)}finally{this.loading=!1}})}startSlideshow(){this.slideshowInterval=setInterval(()=>{this.isPlaying&&this.nextSlide()},4e3)}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+1)%this.slides.length}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-1+this.slides.length)%this.slides.length}goToSlide(r){this.currentSlideIndex=r}toggleSlideshow(){this.isPlaying=!this.isPlaying,this.isPlaying&&!this.slideshowInterval&&this.startSlideshow()}openLightbox(r,e){this.lightboxImage=r,this.lightboxAlt=e,this.lightboxActive=!0,this.isPlaying=!1}closeLightbox(){this.lightboxActive=!1,this.isPlaying=!0}handleImageError(r,e,n=!1){e.errorCount||(e.errorCount=0),e.errorCount++,e.errorCount<=this.maxRetries?setTimeout(()=>{r.target.src=e.src+"?attempt="+e.errorCount},300):(r.target.src=this.fallbackImage,r.target.onerror=null,n&&setTimeout(()=>this.nextSlide(),2e3))}handleImageLoad(r,e){e.loaded=!0}isImageLoaded(r){return r.loaded||!1}ngOnDestroy(){this.slideshowInterval&&clearInterval(this.slideshowInterval)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-gallery"]],decls:8,vars:5,consts:[[1,"page-container","gallery-page-container"],[4,"ngIf"],[1,"lightbox",3,"click"],[1,"lightbox-close",3,"click"],[1,"material-icons"],[1,"lightbox-content",3,"click"],[3,"error","src","alt"],[1,"section-header"],[1,"header-icon"],[1,"section-titles"],[1,"section-title"],[1,"text-muted"],[1,"slideshow-section"],[1,"slideshow-controls"],[1,"control-btn",3,"click"],[1,"slideshow-container"],["class","slide",3,"active",4,"ngFor","ngForOf"],[1,"slideshow-nav"],[1,"slideshow-btn",3,"click"],[1,"slideshow-indicators"],["class","indicator",3,"active","error","click",4,"ngFor","ngForOf"],[1,"gallery-section"],[1,"gallery-section-title"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"slide"],["class","image-loading",4,"ngIf"],["loading","lazy",3,"error","load","src","alt"],[1,"image-loading"],[1,"indicator",3,"click"],[1,"gallery-item",3,"click"],[1,"image-wrapper"],["class","image-error-badge",4,"ngIf"],[1,"image-error-badge"]],template:function(e,n){e&1&&(i(0,"div",0),x(1,A,40,5,"div",1),i(2,"div",2),d("click",function(){return n.closeLightbox()}),i(3,"button",3),d("click",function(){return n.closeLightbox()}),i(4,"span",4),l(5,"close"),a()(),i(6,"div",5),d("click",function(g){return g.stopPropagation()}),i(7,"img",6),d("error",function(){return n.lightboxImage=n.fallbackImage}),a()()()()),e&2&&(c(),_("ngIf",!n.loading),c(),v("active",n.lightboxActive),c(5),_("src",n.lightboxImage,f)("alt",n.lightboxAlt))},dependencies:[I,M,P],styles:['.gallery-page-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:var(--gutter-lg)}.gallery-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--gutter-xl);padding:var(--gutter-xl) 0}.gallery-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2rem,4vw,3.5rem);margin-bottom:var(--gutter-sm);background:var(--gradiente);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.slideshow-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;margin:0 auto var(--gutter-xl) auto;border-radius:24px;overflow:hidden;box-shadow:0 12px 40px var(--shadow2);background:var(--background);border:1px solid var(--smoke-color-1)}.slide[_ngcontent-%COMP%]{display:none;width:100%;height:500px;position:relative;animation:_ngcontent-%COMP%_fade 1s ease-in-out}.slide.active[_ngcontent-%COMP%]{display:block}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.slideshow-nav[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%);padding:0 var(--gutter-md);z-index:10}.slideshow-btn[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--background) 90%,transparent);border:1px solid var(--smoke-color-1);color:var(--text-color);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.slideshow-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.slideshow-indicators[_ngcontent-%COMP%]{position:absolute;bottom:var(--gutter-lg);left:50%;transform:translate(-50%);display:flex;gap:var(--gutter-sm);z-index:10}.indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:color-mix(in srgb,var(--background) 70%,transparent);border:2px solid var(--smoke-color-1);cursor:pointer;transition:all .3s ease}.indicator.active[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary);transform:scale(1.2)}.slideshow-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--gutter-md);margin-bottom:var(--gutter-xl)}.control-btn[_ngcontent-%COMP%]{background:var(--smoke-color-2);border:1px solid var(--smoke-color-1);color:var(--text-color);padding:var(--gutter-sm) var(--gutter-lg);border-radius:12px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:var(--gutter-sm);font-weight:600}.control-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:translateY(-2px)}.gallery-section[_ngcontent-%COMP%]{margin-top:var(--gutter-xl)}.gallery-section-title[_ngcontent-%COMP%]{font-size:var(--fs-md);color:var(--primary);margin-bottom:var(--gutter-lg);padding:var(--gutter-md) var(--gutter-lg);background:var(--smoke-color-2);border-radius:16px;border-left:4px solid var(--primary);display:flex;align-items:center;gap:var(--gutter-sm)}.gallery-section-title[_ngcontent-%COMP%]:before{content:"collections";font-family:Material Icons;font-size:var(--fs-md)}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--gutter-lg)}.gallery-item[_ngcontent-%COMP%]{background:var(--background);border:1px solid var(--smoke-color-1);border-radius:20px;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 20px var(--shadow);cursor:pointer;position:relative}.gallery-item[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 40px var(--shadow2);border-color:var(--primary)}.gallery-item[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,transparent 60%,rgba(0,0,0,.3));opacity:0;transition:opacity .3s ease;z-index:2}.gallery-item[_ngcontent-%COMP%]:hover:before{opacity:1}.gallery-item[_ngcontent-%COMP%]:hover   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.image-wrapper[_ngcontent-%COMP%]{width:100%;height:240px;overflow:hidden;position:relative}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;display:block}.lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:color-mix(in srgb,var(--text-color) 95%,transparent);display:none;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.lightbox.active[_ngcontent-%COMP%]{display:flex}.lightbox-content[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:20px;overflow:hidden;box-shadow:0 20px 60px var(--shadow2)}.lightbox-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}.lightbox-close[_ngcontent-%COMP%]{position:absolute;top:var(--gutter-lg);right:var(--gutter-lg);background:color-mix(in srgb,var(--background) 90%,transparent);border:none;color:var(--text-color);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.5rem;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.lightbox-close[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.4}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.gallery-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .6s ease forwards}.gallery-item[_ngcontent-%COMP%]:nth-child(odd){animation-delay:.1s}.gallery-item[_ngcontent-%COMP%]:nth-child(2n){animation-delay:.2s}@media (max-width: 768px){.gallery-page-container[_ngcontent-%COMP%]{padding:var(--gutter-md)}.slideshow-container[_ngcontent-%COMP%]{margin-bottom:var(--gutter-lg)}.slide[_ngcontent-%COMP%]{height:300px}.slideshow-btn[_ngcontent-%COMP%]{width:40px;height:40px}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--gutter-md)}.image-wrapper[_ngcontent-%COMP%]{height:200px}}@media (max-width: 480px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.slideshow-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.control-btn[_ngcontent-%COMP%]{width:100%;max-width:200px;justify-content:center}}.image-loading[_ngcontent-%COMP%]{background:var(--smoke-color-2);display:flex;align-items:center;justify-content:center;color:color-mix(in srgb,var(--text-color) 40%,transparent)}.image-loading[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:2rem;animation:spin 2s linear infinite}.hidden[_ngcontent-%COMP%]{display:none}.image-loading[_ngcontent-%COMP%]{background:var(--smoke-color-2);display:flex;align-items:center;justify-content:center;color:color-mix(in srgb,var(--text-color) 40%,transparent);width:100%;height:100%}.image-loading[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_pulse 2s infinite}.image-error-badge[_ngcontent-%COMP%]{position:absolute;top:var(--gutter-sm);right:var(--gutter-sm);background:color-mix(in srgb,#ef4444 20%,transparent);color:#ef4444;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.8rem;z-index:3}.indicator.error[_ngcontent-%COMP%]{background:#ef4444;border-color:#ef4444}@media (max-width: 768px){.image-error-badge[_ngcontent-%COMP%]{top:8px;right:8px;width:20px;height:20px;font-size:.7rem}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease}.slide[_ngcontent-%COMP%]   img.hidden[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]   img.hidden[_ngcontent-%COMP%]{opacity:0}']})};export{O as Gallery};
